!function(){"use strict";var t=function(t){try{return JSON.stringify(t,function(){if("function"===typeof WeakSet){var t=new WeakSet;return function(e,r){if("object"===typeof r&&null!==r){if(t.has(r))return;t.add(r)}return r}}}())}catch(e){return null}},e=function(){function t(){}return t.getMergedValidProps=function(t,e){if(!t||"object"!==typeof t)return{};e&&"object"!==typeof e&&(e=void 0);var r=Object.assign(e||{},t);return Object.keys(r).forEach((function(t){var e=r[t],o=typeof e;void 0!==e&&null!==e&&"function"!==o&&"object"!==o&&"symbol"!==o&&"undefined"!==o||delete r[t],"number"!==o&&"boolean"!==o&&"bigint"!==o||(r[t]=e.toString())})),r},t}(),r=function(){return(r=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},o=function(t,e){var o=e.numberOfRetries,i=void 0===o?1:o,s=e.nTry,a=void 0===s?1:s,c=e.onError,d=e.errorLogger;d&&d(a,t),i>1&&a<i?setTimeout((function(){n(r(r({},e),{nTry:a+1}))}),333*Math.pow(a+1,2)):c&&c(t)},n=function(t){var e=t.method,r=void 0===e?"GET":e,n=t.url,i=t.headers,s=t.body,a=t.timeout,c=t.onSuccess,d=t.isError,l=void 0===d?function(t){return t<200||t>=300}:d,u=t.withCredentials,p=void 0!==u&&u,f=new XMLHttpRequest;if("number"===typeof a&&(f.timeout=a),f.open(r,n,!0),i&&Object.keys(i).forEach((function(t){f.setRequestHeader(t,i[t])})),p)try{f.withCredentials=!0}catch(y){}f.onload=function(){l(f.status)?o(f,t):c&&c(f)},f.onabort=function(){o(f,t)},f.onerror=function(){o(f,t)},f.ontimeout=function(){o(f,t)},s?f.send(s):f.send()},i=function(){return(i=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},s=function(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]])}return r},a=function(){function r(t){this.host=t.host,this.key=t.key,this.group=t.group,this.w=window,this.logger=t.logger}return r.prototype.getUrl=function(){var t=this.w.smartlook.rid||"",e=this.w.smartlook.sid||"",r=this.w.smartlook.vid||"";return t&&e&&r?"https://"+this.host+"/rec/events?rid="+t+"&sid="+e+"&key="+this.key+"&vid="+r+"&group="+this.group+"&source=website&s=1":null},r.prototype.addClick=function(t){var e={type:"click",time:t.time,value:t.value,elements:t.elements,createdAt:t.createdAt,id:t.id};t.href&&(e.internalProps={href:t.href}),t.props&&(e.props=t.props),this.sendEvent(e)},r.prototype.addRageClick=function(t){var e={type:"rage_click",time:t.time,createdAt:t.createdAt,id:t.id,elements:t.elements};this.sendEvent(e)},r.prototype.addError=function(t){var e={type:"error",value:t.value,time:t.time,id:t.id,createdAt:t.createdAt};this.sendEvent(e)},r.prototype.addUrl=function(t){var e=t.value,r=s(t,["value"]);this.sendEvent(i(i({},r),{pageUrl:e}))},r.prototype.addText=function(t){this.sendEvent(t)},r.prototype.addFocus=function(t){this.sendEvent(t)},r.prototype.addPerformanceEntry=function(t){this.sendEvent(t)},r.prototype.sendEvent=function(r){var o=this;if(!this.w.smartlook_stopped){var i=this.getUrl();if(i)if(r.props&&(r.props=e.getMergedValidProps(r.props)),"url"!==r.type&&(r.pageUrl=this.w.location.href),this.w.smartlook._identityUid&&(r.internalProps||(r.internalProps={}),r.internalProps.uid=this.w.smartlook._identityUid),this.w.smartlook._globalProps&&(r.props||(r.props={}),Object.assign(r.props,this.w.smartlook._globalProps)),this.w.smartlook._identityProps&&(r.props||(r.props={}),Object.assign(r.props,this.w.smartlook._identityProps)),r.time>66e4)this.logger.error("Invalid time of event",r);else{0===Object.keys(r.props||{}).length&&delete r.props,r.time=Math.round(r.time);var s=function(e){try{var r=window,o=r.Prototype,n=r.MooTools;if(o&&o.Version<"1.7"&&Array.prototype.toJSON&&Object.toJSON)return Object.toJSON(e);if(n&&JSON&&JSON.encode&&Array.prototype.toJSON)return JSON.encode(e)}catch(i){return t(e)}return t(e)}([r]);s?navigator.sendBeacon&&navigator.sendBeacon(i,s)?this.logger&&this.logger.log("Sent event using beacon",r):n({method:"POST",url:i,body:s,headers:{"Content-Type":"text/plain;charset=UTF-8"},numberOfRetries:2,timeout:1e4,onSuccess:function(){o.logger.log("Sent event using XHR",r)}}):this.logger.error("Could not create a stringify body of event",r)}else this.logger.error("Could not create a url for event",r)}},r}(),c=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var o=Array(t),n=0;for(e=0;e<r;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,n++)o[n]=i[s];return o},d=function(){function t(t,e,r){this.debug=t,this.prefix=e||"Smartlook",this.prefixStyle=r||"background: #4d4d4d; color: #fff"}return t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.debug)try{console.log.apply(console,c(["%c "+this.prefix+" ",this.prefixStyle],t))}catch(r){}},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.debug)try{console.error.apply(console,c(["%c "+this.prefix+" error ","background: #a94442; color: #fff"],t))}catch(r){}},t.prototype.isDebug=function(){return this.debug},t}(),l=function(){return(l=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};!function(){var t=window.smartlook;if(t.recorderJSLoaded&&!t.analyticsJSLoaded)if(t.analyticsJSLoaded=!0,t&&t.analytics&&t.options){var e=t.key,r=t.debug,o=t.analytics.host,n=t.options.storeGroup;if(o&&e&&n){var i=new d(!!r),s=new a({host:o,key:e,group:n,logger:i}),c=function(){t.onError((function(t){s.addError(t)})),t.onCustomError((function(e){var r=0;t.recording&&t.recording.startTime&&(r=Math.max(0,e.createdAt-t.recording.startTime)),s.addError(l(l({},e),{time:r}))})),t.onUrl((function(t){s.addUrl(t)})),t.onCustomUrl((function(e){var r=0;t.recording&&t.recording.startTime&&(r=Math.max(0,e.createdAt-t.recording.startTime)),s.addUrl(l(l({},e),{time:r}))})),t.onText((function(t){s.addText(t)})),t.onFocus((function(t){s.addFocus(t)})),t.onMouse((function(t){"click"===t.type&&s.addClick(t),"rage_click"===t.type&&s.addRageClick(t)})),t.onPerformanceEntry&&t.onPerformanceEntry((function(t){"domcomplete"!==t.type&&"domcontentloaded"!==t.type||s.addPerformanceEntry(t)}))};t._recorderRunning?c():t.startAnalytics=c}else console.warn("Analytics host, key or store group is not defined")}else console.warn("Smartlook init data is not available")}()}();